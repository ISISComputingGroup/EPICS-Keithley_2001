record(stringout, "$(P)ELEMENTS:SP"){
    field(DESC, "Sets the elements of a reading.")
    field(DTYP, "stream")
    field(VAL, "READ, UNIT")
    field(OUT, "@keithley_2001.proto set_elements $(PORT)")
    field(FLNK, "$(P)ELEMENTS")
    
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:ELEMENTS:SP")
    field(SDIS, "$(P)DISABLE")
}

record(stringin, "$(P)ELEMENTS"){
    field(DESC, "Elements in a reading from device.")
    field(DTYP, "stream")
    field(INP, "@keithley_2001.proto get_elements $(PORT)")
    
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:ELEMENTS")
    field(SDIS, "$(P)DISABLE")
}

record(stringout, "$(P)SIM:ELEMENTS") {}

alias("$(P)SIM:ELEMENTS","$(P)SIM:ELEMENTS:SP")


record(bo, "$(P)RESET") {
    field(DESC, "Reset the device")
    field(DTYP, "stream")
    field(OUT, "@keithley_2001.proto reset $(PORT)")
}

record(bo, "$(P)BUFF:CLEAR") {
    field(DESC, "Clears the buffer")
    field(DTYP, "stream")
    field(OUT, "@keithley_2001.proto clear_buffer $(PORT)")
}

record(mbbi, "$(P)BUFF:SOURCE") {
    field(DESC, "Reads buffer readings source")
    field(DTYP, "stream")
    
    field(INP, "@keithley_2001.proto get_source $(PORT)")
    
    field(ZRVL, "0")
    field(ZRST, "NONE")
    field(ONVL, "1")
    field(ONST, "SENS1")
    field(TWVL, "2")
    field(TWST, "CALC1")
}

record(mbbo, "$(P)BUFF:SOURCE:SP") {
    field(DESC, "Sets buffer readings source")
    field(DTYP, "stream")
    
    field(OUT, "@keithley_2001.proto set_source $(PORT)")
    
    field(ZRVL, "0")
    field(ZRST, "NONE")
    field(ONVL, "1")
    field(ONST, "SENS1")
    field(TWVL, "2")
    field(TWST, "CALC1")
}

record(mbbi, "$(P)BUFF:MODE") {
    field(DESC, "Reads buffer control mode")
    field(DTYP, "stream")
    
    field(INP, "@keithley_2001.proto get_cntrl_mode $(PORT)")
    
    field(ZRVL, "0")
    field(ZRST, "NEV")
    field(ONVL, "1")
    field(ONST, "NEXT")
    field(TWVL, "2")
    field(TWST, "ALW")    
    field(THVL, "3")
    field(THST, "PRET")
}

record(mbbo, "$(P)BUFF:MODE:SP") {
    field(DESC, "Sets buffer control mode")
    field(DTYP, "stream")
    
    field(OUT, "@keithley_2001.proto set_cntrl_mode $(PORT)")
    
    field(ZRVL, "0")
    field(ZRST, "NEV")
    field(ONVL, "1")
    field(ONST, "NEXT")
    field(TWVL, "2")
    field(TWST, "ALW")    
    field(THVL, "3")
    field(THST, "PRET")
}

record(longout, "$(P)BUFF:SIZE:SP"){
    field(DESC, "Sets the buffer size")
    field(DTYP, "stream")
    field(OUT, "@keithley_2001.proto set_buff_size $(PORT)")
    
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:BUFF:SIZE:SP")
    field(SDIS, "$(P)DISABLE")
}

record(longin, "$(P)BUFF:SIZE"){
    field(DESC, "Gets the buffer size")
    field(DTYP, "stream")
    field(INP, "@keithley_2001.proto get_buff_size $(PORT)")
    
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:BUFF:SIZE")
    field(SDIS, "$(P)DISABLE")
}

record(longin, "$(P)SIM:BUFF:SIZE") {}

alias("$(P)SIM:BUFF:SIZE","$(P)SIM:BUFF:SIZE:SP")

record(bo, "$(P)BUFF:EGROUP:SP") {
    field(DESC, "Sets the buffer element group")
    field(DTYP, "stream")
    field(ZNAM, "FULL")
    field(ONAM, "COMP")
    field(OUT, "@keithley_2001.proto set_egroup $(PORT)")
    
   field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:BUFF:EGROUP:SP")
    field(SDIS, "$(P)DISABLE")
}

record(bi, "$(P)BUFF:EGROUP") {
    field(DESC, "Gets the buffer element group")
    field(DTYP, "stream")
    field(ZNAM, "FULL")
    field(ONAM, "COMP")    
    field(INP, "@keithley_2001.proto get_egroup $(PORT)")
    
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:BUFF:EGROUP")
    field(SDIS, "$(P)DISABLE")
}

record(bi, "$(P)SIM:BUFF:EGROUP") {}

alias("$(P)SIM:BUFF:EGROUP","$(P)SIM:BUFF:EGROUP:SP")


record(bo, "$(P)SCAN:CONT_MODE:SP") {
    field(DESC, "Sets continuous scanning mode on or off")
    field(DTYP, "stream")
    field(ZNAM, "OFF")
    field(ONAM, "ON")
    
    field(OUT, "@keithley_2001.proto set_init_cont $(PORT)")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:SCAN:CONT_MODE:SP")
    field(SDIS, "$(P)DISABLE")
}

record(bi, "$(P)SCAN:CONT_MODE") {
    field(DESC, "Gets continuous scanning mode")
    field(DTYP, "stream")
    field(ZNAM, "OFF")
    field(ONAM, "ON")
    
    field(INP, "@keithley_2001.proto get_init_cont $(PORT)")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:SCAN:CONT_MODE")
    field(SDIS, "$(P)DISABLE")
}

record(bi, "$(P)SIM:SCAN:CONT_MODE") {}

alias("$(P)SIM:SCAN:CONT_MODE","$(P)SIM:SCAN:CONT_MODE:SP")
