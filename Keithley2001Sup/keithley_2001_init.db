record(stringout, "$(P)ELEMENTS:SP"){
    field(DESC, "Sets the elements of a reading.")
    field(DTYP, "stream")
    field(VAL, "READ, UNIT")
    field(OUT, "@keithley_2001.proto set_elements $(PORT)")
    field(FLNK, "$(P)ELEMENTS")
    
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:ELEMENTS:SP")
    field(SDIS, "$(P)DISABLE")
}

record(stringin, "$(P)ELEMENTS"){
    field(DESC, "Elements in a reading from device.")
    field(DTYP, "stream")
    field(INP, "@keithley_2001.proto get_elements $(PORT)")
    
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:ELEMENTS")
    field(SDIS, "$(P)DISABLE")
}

record(mbbi, "$(P)BUFF:SOURCE") {
    field(DESC, "Reads buffer readings source")
    field(DTYP, "stream")
    
    field(INP, "@keithley_2001.proto get_source $(PORT)")
    
    field(ZRVL, "0")
    field(ZRST, "NONE")
    field(ONVL, "1")
    field(ONST, "SENS1")
    field(TWVL, "2")
    field(TWST, "CALC1")
}

record(mbbo, "$(P)BUFF:SOURCE:SP") {
    field(DESC, "Sets buffer readings source")
    field(DTYP, "stream")
    
    field(OUT, "@keithley_2001.proto set_source $(PORT)")
    
    field(ZRVL, "0")
    field(ZRST, "NONE")
    field(ONVL, "1")
    field(ONST, "SENS1")
    field(TWVL, "2")
    field(TWST, "CALC1")
}

record(bo, "$(P)BUFF:EGROUP:SP") {
    field(DESC, "Sets the buffer element group")
    field(DTYP, "stream")
    field(ZNAM, "FULL")
    field(ONAM, "COMP")
    field(OUT, "@keithley_2001.proto set_egroup $(PORT)")
    
   field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:BUFF:EGROUP:SP")
    field(SDIS, "$(P)DISABLE")
}

record(bi, "$(P)BUFF:EGROUP") {
    field(DESC, "Gets the buffer element group")
    field(DTYP, "stream")
    field(ZNAM, "FULL")
    field(ONAM, "COMP")    
    field(INP, "@keithley_2001.proto get_egroup $(PORT)")
    
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:BUFF:EGROUP")
    field(SDIS, "$(P)DISABLE")
}

record(bo, "$(P)INIT:CONT_MODE:SP") {
    field(DESC, "Sets continuous initialization mode")
    field(DTYP, "stream")
    field(ZNAM, "OFF")
    field(ONAM, "ON")
    
    field(OUT, "@keithley_2001.proto set_init_cont $(PORT)")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:SCAN:CONT_MODE:SP")
    field(SDIS, "$(P)DISABLE")
}

record(bi, "$(P)INIT:CONT_MODE") {
    field(DESC, "Gets continuous initialization mode")
    field(DTYP, "stream")
    field(ZNAM, "OFF")
    field(ONAM, "ON")
    
    field(INP, "@keithley_2001.proto get_init_cont $(PORT)")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:SCAN:CONT_MODE")
    field(SDIS, "$(P)DISABLE")
}

record(longin, "$(P)STAT:MEAS"){
    field(DESC, "Read measurement status register")
    field(DTYP, "stream")
    field(INP, "@keithley_2001.proto get_meas_register_status $(PORT)")
    
    field(SDIS, "$(P)DISABLE")
}

record(bo, "$(P)STAT:BUFF:FULL:SP"){
    field(DESC, "Sets status of buffer full status bit on")
    field(DTYP, "stream")
    field(OUT, "@keithley_2001.proto set_buff_full_stat $(PORT)")
           
    field(SDIS, "$(P)DISABLE")
}

record(longin, "$(P)STAT:SERVICE_REQEST"){
    field(DESC, "Reads status of service request register")
    field(DTYP, "stream")
    field(INP, "@keithley_2001.proto get_service_request_status $(PORT)")

    field(SDIS, "$(P)DISABLE")
}

record(bo, "$(P)STAT:MEAS:SUMM:SP"){
    field(DESC, "Sets measure summary register bit")
    field(DTYP, "stream")
    field(OUT, "@keithley_2001.proto set_measure_summary $(PORT)")

    field(SDIS, "$(P)DISABLE")
}

record(bo, "$(P)STAT:RESET"){
    field(DESC, "Resets and clears status registers")
    field(DTYP, "stream")
    field(OUT, "@keithley_2001.proto reset_status_registers $(PORT)")

    field(SDIS, "$(P)DISABLE")
}

# SIM RECORDS

record(stringout, "$(P)SIM:ELEMENTS") {}

alias("$(P)SIM:ELEMENTS","$(P)SIM:ELEMENTS:SP")

record(bi, "$(P)SIM:SCAN:CONT_MODE") {}

alias("$(P)SIM:SCAN:CONT_MODE","$(P)SIM:SCAN:CONT_MODE:SP")

record(bi, "$(P)SIM:BUFF:EGROUP") {}
