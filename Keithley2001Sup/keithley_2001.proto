# Protocol file for Keithley 2001

Terminator = LF;

get_IDN {
    out "*IDN?";	
    #Read no more that 39 chars (EPICS limit)
    in "KEITHLEY %*{INSTRUMENTS INC.,}%/(.{0,39})/";
}

reset {
    out "*RST";
}

clear_buffer {
    out ":DATA:CLE";
}

set_elements {
    out ":FORM:ELEM %s";
}

get_elements {
    out ":FORM:ELEM?";
    in "%39c";
}

get_source {
    out ":DATA:FEED?";
    in "%{NONE|SENS1|CALC1}";
}

set_source {
    out ":DATA:FEED %{NONE|SENS1|CALC1}";
}

set_cntrl_mode {
    out ":DATA:FEED:CONT %{NEV|NEXT|ALW|PRET}";
}

get_cntrl_mode {
    out ":DATA:FEED:CONT?";
    in "%{NEV|NEXT|ALW|PRET}";
}

set_buff_size {
    out ":DATA:POIN %d";
}

get_buff_size {
    out ":DATA:POIN?"; 
    in "%d";
}

get_egroup {
    out ":DATA:EGR?";
    in "%{FULL|COMP}";
}

set_egroup {
    out ":DATA:EGR %{FULL|COMP}";
}
